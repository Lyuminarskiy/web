# 7. @-правила и медиа-запросы. Трансформации, переходы и анимации. Фон элемента

## Темы занятия

- [@-правила](https://webref.ru/css/type/atrules).
- [Медиа-запросы](https://webref.ru/css/value/media).
- [Трансформации](https://webref.ru/layout/advanced-html-css/transform).
- [Эффект перехода и анимации
](https://webref.ru/layout/advanced-html-css/transitions-animations).
- [Фон элемента](https://metanit.com/web/html5/6.14.php).
- [Инструменты разработчика Chrome
](https://developers.google.com/web/tools/chrome-devtools/).

## Теоретические сведения

### CSS
  
- [@-правила](https://webref.ru/css/type/atrules):

  - [`@charset`](https://webref.ru/css/charset) - кодировка файла CSS.
  - [`@import`](https://webref.ru/css/import) - импорт содержимого внешнего 
  файла CSS.
  - [`@media`](https://webref.ru/css/media) - указание типа носителя.  
  - [`@keyframes`](https://webref.ru/css/keyframes) - ключевые кадры анимации.
  
- [Медиа-запросы](https://webref.ru/css/value/media):

  - Типы носителей:
  
    - `all` - все типы.
    - `print` - принтеры и другие печатающие устройства.
    - `screen` - экран монитора.
    - `speech` - речевые синтезаторы.
    
  - Логические операторы:
  
    - `all` - логическое `И`.
    - `not` - логическое `НЕ`.
    
  - Медиа-функции:
  
    - `orientation` - ориентация устройства.
    - `width`, `min-width` и `max-width` - ширина отображаемой области.
    - `height`, `min-height` и `max-height` - высота отображаемой области.
    
- [Трансформации](https://metanit.com/web/html5/9.1.php):

  - [`transform`](https://webref.ru/css/transform) - применяемые трансформации.
  - [`transform-origin`](https://webref.ru/css/transform-origin) -
  точка, относительно которой происходит трансформация.
  - [`rotate(angle)`](https://webref.ru/css/value/rotate) -
  поворачивает элемент на угол `angle`.
  - [`scale(dx, dy)`](https://webref.ru/css/value/scale) - масштабирует 
  элемент в `dx` и `dy` раз по горизонтали и вертикали соответственно.
  - [`translate(dx, dy)`](https://webref.ru/css/value/translate) - сдвигает 
  элемент на расстояние `dx` и `dy` по горизонтали и вертикали соответственно.
  - [`skew(dx, dy)`](https://webref.ru/css/value/skew) - наклоняет 
  элемент на угол `dx` и `dy` по горизонтали и вертикали соответственно.
  
- [Эффект перехода](https://metanit.com/web/html5/9.2.php):

  - [`transition-property`](https://webref.ru/css/transition-property) -
  свойство, к которому будет применяться эффект перехода.
  - [`transition-duration`](https://webref.ru/css/transition-duration) -
  длительность эффекта перехода.
  - [`transition-delay`](https://webref.ru/css/transition-delay) -
  задержка перед запуском эффекта перехода.
  - [`transition-timing-function`
  ](https://webref.ru/css/transition-timing-function) - функция для 
  вычисления промежуточных значений свойств при эффекте перехода.
  - [`transition`](https://webref.ru/css/transition) - _универсальное свойство_
  для установки различных параметров эффекта перехода.
  
- [Анимации](https://metanit.com/web/html5/9.3.php):

  - [`animation-name`](https://webref.ru/css/animation-name) -
  идентификатора анимации.
  - [`animation-duration`](https://webref.ru/css/animation-duration) -
  длительность анимации.
  - [`animation-delay`](https://webref.ru/css/animation-delay) -
  задержка перед запуском анимации.
  - [`animation-timing-function`
  ](https://webref.ru/css/animation-timing-function) - функция для вычисления
  промежуточных значений свойств при анимации.
  - [`animation-iteration-count`
  ](https://webref.ru/css/animation-iteration-count) -
  число повторений анимации.
  - [`animation-direction`](https://webref.ru/css/animation-direction) -
  направление движения анимации.
  - [`animation-fill-mode`](https://webref.ru/css/animation-fill-mode) -
  стили, которые применяются, когда анимация не активна.
  - [`animation-play-state`](https://webref.ru/css/animation-play-state) -
  состояние анимации.
  - [`animation`](https://webref.ru/css/animation) - _универсальное свойство_
  для установки различных параметров анимации.

- [Фон элемента](https://metanit.com/web/html5/6.14.php):

  - [`background-image`](https://webref.ru/css/background-image) -
  фоновое изображение.
  - [`background-position`](https://webref.ru/css/background-position) -
  начальное положение фонового изображения.
  - [`background-size`](https://webref.ru/css/background-size) -
  масшабирование фонового изображения.
  - [`background-repeat`](https://webref.ru/css/background-repeat) -
  повторение фонового изображения.
  - [`background-attachment`](https://webref.ru/css/background-attachment) -
  поведение фонового изображения при прокрутке.
  - [`background`](https://webref.ru/css/background) - _универсальное свойство_
  для установки различных параметров фона элемента.
  - [`linear-gradient()`](https://webref.ru/css/value/linear-gradient) и
  [`repeating-linear-gradient()`
  ](https://webref.ru/css/value/repeating-linear-gradient) -
  линейные градиенты.
  - [`radial-gradient()`](https://webref.ru/css/value/radial-gradient) и
  [`repeating-radial-gradient()`
  ](https://webref.ru/css/value/repeating-radial-gradient) -
  радиальные градиенты.
  
### Прочее

[Инструменты разработчика Chrome
](https://developers.google.com/web/tools/chrome-devtools/):

- [Просмотр и изменение дерева элементов
](https://developers.google.com/web/tools/chrome-devtools/inspect-styles/edit-dom).
- [Просмотр и изменение правил CSS
](https://developers.google.com/web/tools/chrome-devtools/inspect-styles/edit-styles).
- [Просмотр и изменение анимаций
](https://developers.google.com/web/tools/chrome-devtools/inspect-styles/animations).
- [Инструменты проверки адаптивной вёрстки
](https://developers.google.com/web/tools/chrome-devtools/device-mode).

## 7.1. @-правила и медиа-запросы

Доработайте веб-страницу, созданную в задании [`6.1. Пользовательские 
свойства`](/practice/06/#_6-1-поnьзоватеnьские-свойства), выполнив следующие
задачи:

1. Создайте файл `variables.css` и перенесите в него все объявления 
пользовательских свойств из файла `style.css`. После этого импортируйте 
содержимое файла `variables.css` в файл `style.css`.

2. Создайте файл `print.css` и импортируйте его содержимое в файл `style
.css`. Добавьте в точку импорта такой медиа-запрос, чтобы импорт происходил 
только в том случае, если текущее устройство - принтер (или другое печетающее 
устройство).

3. Добавьте внутрь файла `print.css` такие правила CSS, чтобы при печати 
страница приобретала следующий вид:

   - Виден только текст рассказа с заголовками и указаниями об авторе и 
   времени публикации рассказа в конце страницы.   
   - Содержимое занимает всю ширину страницы.   
   - Убрано всё оформление текста, установленное ранее, за некоторыми 
   исключениями, перечисленными далее.   
   - Текст абзацев выровнен по ширине, добавлен отступ первой строки.
   - Заголовки выровнены по центру.

4. Укажите кодировку для всех файлов CSS.

Продемонстрируйте преподавателю изменение дерева элементов и правил CSS 
документа с помощью инструментов разработчика Chrome. Для этого у любого 
элемента на странице с помощью вкладки:

- ... `Elements`:

  - ... измените существующий атрибут.
  - ... удалите существующий атрибут.
  - ... создайте новый атрибут.
  
- ... `Styles`:

  - ... включите имитацию наведения указателя мыши на элемент.
  - ... добавьте несколько новых классов.
  - ... измените значение установленного ранее свойства.
  - ... измените значение неустановленного ранее свойтва.
  - ... создайте новое правило CSS, укажите у него селектор и добавьте в него
  несколько объявлений.
  
- ... `Computed` определите значение свойства
[`object-fit`](https://webref.ru/css/object-fit). Что обозначает это свойство?

::: tip На заметку
Разработчику **удобнее работать с небольшими файлами**, отличающимися друг 
от друга назначением, **чем с одним большим файлом**. Если вы чувствуете, 
что попали в подобную ситуацию при работе с CSS, то имеет смысл разбить 
большие файлы на несколько небольших файлов, и объединить их с помощью
[`@import`](https://webref.ru/css/import).
:::

## 7.2. Трансформации, эффект перехода и фон элементов

Доработайте веб-страницу, созданную в задании [`6.2. CSS Flexible box Layout`
](/practice/06/#_6-2-css-flexible-box-layout) так, чтобы она приняла примерно 
следующий вид:

<practice-07-task-02/>

Подзадачи:

1. Добавьте эффект перехода при наведении указателя мыши:
 
    - ... на ссылку с классом `navbar-link` в панели навигации с классом
    `page-navbar`. Ссылка должна плавно увеличиться, изменить цвет фона с 
    зелёного на жёлтый и цвет текста с жёлтого на синий.
    
    - ... на элемент с классом `page-article`. Элемент должен плавно 
    повернуться по часовой стрелке. В то же время заголовок с классом 
    `article-header` внутри этого элемента должен плавно повернуться против 
    часовой стрелки на тот же угол и изменить размер шрифта.
    
    - ... на элемент, расположенный в области `side2`. Элемент должен плавно 
    стать полностью непрозрачным.
    
2. Добавьте фоновые изображения из чередующихся линий красного и жёлтого 
цветов:

    - ... с помощью линейного градиента для элемента, расположенного в области 
    `side1`. Градиент должен быть повёрнут на произвольный угол. Фоновое 
    изображение должно оставаться неподвижным при прокрутке страницы.
    
    - ... с помощью радиального градиента для элемента, расположенного в 
    области `side2`. Центр радиального градиента должен располагаться в правом 
    верхнем углу элемента. Градиент должен быть круглой формы.
    
3. Создайте медиа-запрос, согласно которому при ширине экрана меньше `768 px`
все области сетки должны выстраиваться в один столбец.

Продемонстрируйте преподавателю способы проверки адаптивной вёрстки с помощью 
инструментов разработчика Chrome:

- Включите отображение созданных медиа-запросов в окне предпросмотра.
- Продемонстрируйте работу вашего медиа-запроса на разных эмулированных 
устройствах.
- Сделайте полноразмерный снимок экрана всей страницы.

::: tip На заметку
Для корректной медиа-запросов в мобильных браузерах рекомендуется 
добавить на страницу элемент [`<meta>`](https://webref.ru/html/meta) со 
значением [viewport
](https://developer.mozilla.org/ru/docs/Mozilla/Mobile/Viewport_meta_tag):

```html
<meta name="viewport" content="width=device-width, initial-scale=1.0">
```
:::

## 7.3. Анимации

Создайте веб-страницу следующего вида:

<practice-07-task-03/>

Подзадачи:

1. Установите уровень непрозрачности `80%` у кругов. В качестве цветов кругов 
используйте следующие значения:

    - `rgb(60, 186, 84)` - зелёный,
    - `rgb(244, 194, 13)` - жёлтый,
    - `rgb(219, 50, 54)` - красный,
    - `rgb(72, 133, 237)` - синий.
    
2. Создайте такую анимацию, благодаря которой круги будут двигаться по 
периметру видимой области по часовой стрелке бесконечно.

3. У каждого круга должна быть своя собственная длительность анимации, 
задержка перед запуском анимации и функция для вычисления промежуточных 
значений свойств при анимации (создайте собственную функцию как минимум для 
одного круга).

4. При наведении указателя мыши на круг он должен мгновенно останавливаться, 
а также плавно уменьшаться в диаметре и становиться полностью непрозрачным.

5. При появлении указателя мыши в пределах видимой области цвет фона должен 
плавно меняться с белого на чёрный.

Продемонстрируйте преподавателю запись и воспроизведение с анимаций с 
помощью инструментов разработчика Chrome:

- Приостановите и возобновите все анимации на странице.
- Измените скорость всех анимация на странице.
- Запишите анимацию наведения указателя мыши на круг. Воспроизведите эту 
анимацию. Измените задержку и длительность анимации.


<script-button/>

<disqus-comments
  page-uuid="d6d92b81-f885-41a2-ab1c-ca9559e438c0"
  page-title="7. @-правила и медиа-запросы. Трансформации, переходы и анимации.
    Фон элемента | Практические занятия"/>