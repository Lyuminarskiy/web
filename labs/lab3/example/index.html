<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>REST API</title>

  <link rel="stylesheet" type="text/css" href="styles/style.css">
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script defer type="module" src="scripts/client.js"></script>
  <script defer type="module" src="scripts/main.js"></script>
</head>

<body>
<header>
  <input id="search" type="search" placeholder="Find post by title">
</header>

<main id="posts">
  <div class="loader" v-if="!posts.updated">Loading</div>
  <!-- Список постов не пуст -->
  <div v-else-if="posts.length > 0">
    <article class="post" v-for="post of posts">
      <h3 class="post-author">Author: {{ post.user.name }}</h3>
      <h2 class="post-title">#{{ post.id }} {{ post.title }}</h2>
      <p class="post-body">{{ post.body }}</p>
      <div class="comments">
        <!-- В данный момент происходит загрузка комментариев -->
        <div class="loader" v-if="!posts.updated">Loading...</div>
        <!-- Загрузка завершена и список комментариев не пуст -->
        <div v-else-if="post.comments.length > 0">
          <!-- Выбор заголовка в зависимости от количества комментариев -->
          <h3 v-if="post.comments.length > 1">{{ post.comments.length }} comments:</h3>
          <h3 v-else>comment:</h3>

          <div class="comment" v-for="comment of post.comments">
            <h3 class="comment-title">{{ comment.name }}</h3>
            <p class="comment-body">{{ comment.body }}</p>
          </div>
        </div>
        <!-- Загрузка завершена и список комментариев пуст -->
        <div v-else>
          <h3>no comments</h3>
        </div>
      </div>
    </article>
  </div>
  <!-- Загрузка завершена и список постов пуст -->
  <div v-else>
    <h3>no posts</h3>
  </div>
</main>

<footer></footer>
</body>

</html>