[Назад к описанию курса](../../README.md)

# Введение в JavaScript

Содержание:
- [1. Подключение скриптов](#1-Подключение-скриптов)
  - [1.1. Ссылки](#11-Ссылки)
  - [1.2. Задачи](#12-Задачи)
    - [1.2.1. Первые шаги](#121-Первые-шаги)
    - [1.2.2. Внешний скрипт](#122-Внешний-скрипт)
    - [1.2.3. Асинхронная загрузка скриптов](#123-Асинхронная-загрузка-скриптов)
- [2. Структура кода и переменные](#2-Структура-кода-и-переменные)
  - [2.1. Ссылки](#21-Ссылки)
  - [2.2. Задачи](#22-Задачи)
    - [2.2.1. Работа с переменными](#221-Работа-с-переменными)
- [3. Взаимодействие с пользователем](#3-Взаимодействие-с-пользователем)
  - [3.1. Ссылки](#31-Ссылки)
  - [3.2. Задачи](#32-Задачи)
    - [3.2.1. Опросник](#321-Опросник)
- [4. Операторы](#4-Операторы)
  - [4.1. Операторы присваивания](#41-Операторы-присваивания)
  - [4.2. Операторы сравнения](#42-Операторы-сравнения)
  - [4.3. Арифметические операторы](#43-Арифметические-операторы)
  - [4.4. Битовые операции](#44-Битовые-операции)
  - [4.5. Логические операторы](#45-Логические-операторы)
  - [4.6. Ссылки](#46-Ссылки)
  - [4.7. Задачи](#47-Задачи)
    - [4.7.1. Префиксный и постфиксный инкремент](#471-Префиксный-и-постфиксный-инкремент)
    - [4.7.2. Присваивание в сложном выражении](#472-Присваивание-в-сложном-выражении)
    - [4.7.3. Результаты битовых операций](#473-Результаты-битовых-операций)
    - [4.7.4. Результаты логических операторов](#474-Результаты-логических-операторов)
    - [4.7.5. Проверка диапазона](#475-Проверка-диапазона)
- [5. Типы данных](#5-Типы-данных)
  - [5.1. Ссылки](#51-Ссылки)
  - [5.2. Задачи](#52-Задачи)
    - [5.2.1. Преобразование типов в операциях](#521-Преобразование-типов-в-операциях)
- [6. Условные инструкции](#6-Условные-инструкции)
  - [6.1. Ссылки](#61-Ссылки)
  - [6.2. Задачи](#62-Задачи)
    - [6.2.1. Получить знак числа](#621-Получить-знак-числа)
    - [6.2.2 Проверка логина и пароля](#622-Проверка-логина-и-пароля)
    - [6.2.3. Замена условного оператора](#623-Замена-условного-оператора)
- [7. Инструкции циклов](#7-Инструкции-циклов)
  - [7.1. Ссылки](#71-Ссылки)
  - [7.2. Задачи](#72-Задачи)
    - [7.2.1. Последнее значение цикла](#721-Последнее-значение-цикла)
    - [7.2.2. Вывод чётных чисел](#722-Вывод-чётных-чисел)
    - [7.2.3. Замена оператора цикла](#723-Замена-оператора-цикла)
    - [7.2.4. Правильный ввод](#724-Правильный-ввод)
- [8. Объявления функций](#8-Объявления-функций)
  - [8.1. Ссылки](#81-Ссылки)
  - [8.2. Задачи](#82-Задачи)
    - [8.2.1. Функция минимизации](#821-Функция-минимизации)
    - [8.2.2. Вычисление суммы чисел до данного](#822-Вычисление-суммы-чисел-до-данного)
    - [8.2.3. Функция возведения в степень](#823-Функция-возведения-в-степень)

## 1. Подключение скриптов

Скрипты можно вставить в любое место страницы при помощи элемента `<script>`. Скрипт помещается между открывающим и закрывающим тегом элемента `<script>`:

```html
<script>
  alert('Привет, мир!');
</script>
```

Действия браузера:
1. начинает разбор страницы, отображает часть до `<script>`,
2. исполняет содержимое `<script>`,
3. продолжает разбор страницы, отображает оставшуюся часть.

В примере используется встроенная функция `alert(message)`, выводящая на экран модальное окно с сообщением `message` и приостанавливающая выполнение скрипта, пока пользователь не нажмёт кнопку `ОК`.

Как и стили, скрипты можно выносить в отдельные файлы. Это позволяет разгрузить страницу и задействовать кеш браузера для скриптов. Для указания ссылки на внешний файл скрипта используется атрибут `src` элемента `<script>`.

```html
<script src="/path/to/script.js"></script>
```

В элементе `<script>` нельзя одновременно и подключить внешний скрипт, и указать локальный скрипт. В этом случае содержимое элемента `<script>` будет игнорироваться:

```html
<script src='/path/to/script.js'>
  // Этот код не выполнится!
  alert('Привет, мир!');
</script>
```

При использовании внешних скриптов можно можно изменить их способ загрузки и исполнения при помощи дополнительных атрибутов элемента `<script>`:

| Атрибут | Описание                                                                                          |
| ------- | ------------------------------------------------------------------------------------------------- |
| нет     | Обработка страницы прекращается на время загрузки и выполнения скрипта.                           |
| `async` | Загрузка скрипта производится асинхронно, выполнение скрипта происходит сразу после загрузки.     |
| `defer` | Загрузка скрипта производится асинхронно, выполнение скрипта происходит после обработки страницы. |

При указании и `async`, и `defer` в одном элементе `<script>` эффект будет иметь только атрибут `async`.

При использовании атрибута `async` первым сработает скрипт, который раньше загрузится:

```html
<script async src="first.js"></script>
<script async src="second.js"></script>
```

При использовании атрибута `defer` относительный порядок скриптов сохраняется:

```html
<script defer src="first.js"></script>
<script defer src="second.js"></script>
```

### 1.1. Ссылки

- [Элемент `<script>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script)
- [Встроенная функция `alert()`](https://developer.mozilla.org/ru/docs/Web/API/Window/alert)

### 1.2. Задачи

#### 1.2.1. Первые шаги

Задание:
1. создать страницу `index.html`, которая с помощью функции `alert()` выводит на экран сообщение `Я изучаю JavaScript!`,
2. открыть страницу в браузере и убедиться, что всё работает.

<details>
<summary>Посмотреть решение</summary>
<hr>

Содержимое `index.html`:

```html
<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
</head>

<body>
  <script>
    alert('Я изучаю JavaScript!');
  </script>
</body>

</html>
```

<hr>
</details>

#### 1.2.2. Внешний скрипт

Задание:
1. взять решение предыдущей задачи и вынесите JS во внешний файл `alert.js`,
2. открыть страницу в браузере и убедиться, что всё работает.

<details>
<summary>Посмотреть решение</summary>
<hr>

Содержимое `index.html`:

```html
<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
</head>

<body>
  <script src='alert.js'></script>
</body>

</html>
```

Содержимое `alert.js`:

```js
alert('Я изучаю JavaScript!');
```

<hr>
</details>

#### 1.2.3. Асинхронная загрузка скриптов

Задание:
1. создать скрипт `main.js` со следующим содержимым:

```js
var start = new Date().getTime();
var end;

// Цикл с длительностью в 1 секунду.
while ((end = new Date().getTime() - start) < 1000);

// Создать параграф с указанием времени загрузки скрипта.
var message = document.createElement('p');
message.style.color = 'green';
message.innerText = 'Скрипт выполнился за ' + end / 1000 + ' с';

// Добавить параграф на страницу.
document.body.appendChild(message);
```

2. создать страницу `index.html` попеременно вставлять в неё следующие блоки HTML:

    - без использования `async` и `defer`:

    ```html
    <p>Начало страницы</p>
    <script src='https://js.cx/hello/ads.js?speed=0'></script>
    <script src='main.js'></script>
    <p>Конец страницы</p>
    ```

    - с использованием `async`:

    ```html
    <p>Начало страницы</p>
    <script async src='https://js.cx/hello/ads.js?speed=0'></script>
    <script async src='main.js'></script>
    <p>Конец страницы</p>
    ```

    - с использованием `defer`:

    ```html
    <p>Начало страницы</p>
    <script defer src='https://js.cx/hello/ads.js?speed=0'></script>
    <script defer src='main.js'></script>
    <p>Конец страницы</p>
    ```

3. открыть страницу в браузере с каждым из блоков HTML и узнать, какой из скриптов выполняется первым.

<details>
<summary>Посмотреть решение</summary>
<hr>

В случае без использования `async` и `defer` первым выполнится `ads.js`, так как он объявлен на странице раньше, чем `main.js`.

В случае с использованием `async` первым выполнится `main.js`, так как скорость его загрузки выше, чем у `ads.js`.

В случае с использованием `defer` первым выполнится `ads.js`, так как в этом случае будет сохраняться относительный порядок скриптов на странице.

<hr>
</details>

## 2. Структура кода и переменные

Скрипты состоят из команд, разделённых точкой с запятой:

```js
alert('Первое сообщение');
alert('Второе сообщение');
```

Однострочные комментарии:

```js
// Это однострочный комментарий.
alert('Сообщение');
```

Многострочные комментарии:

```js
/* Это
многострочный
комментарий. */
alert('Сообщение');
```

Для объявления переменной используется ключевое слово `var`:

```js
var message;
message = 'Сообщение';
alert(message); // Сообщение

var num = 10, checked = true;
alert(num); // 10
alert(checked); // true

num = checked;
alert(num); // true
```

В любой момент значение (и тип) переменной можно изменить:

```js
var my_var = 10;   // числовой тип
my_var = 'строка'; // строковый тип
my_var = true;     // логический тип
```

Существует ещё один способ объявления переменной - ключевое слово `let`:

```js
var message = 'Сообщение';
```

В отличие `var`, переменная `let` видна только в рамках блока, в котором объявлена:

```js
var num1 = 5; // 5
let num2 = 5; // 5

if (true) {
  var num1 = 10; // Та же самая переменная, что и снаружи блока.
  let num2 = 10; // Новая переменная.

  alert(num1); // 10
  alert(num2); // 10
}

alert(num1); // 10
alert(num2); // 5
```

Также в JS можно объявить константу. Для этого используется ключевое слово `const`:

```js
// Число π.
const M_PI = 3.1415;
```

### 2.1. Ссылки

- [Ключевое слово `var`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/var)
- [Ключевое слово `let`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/let)
- [Ключевое слово `const`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/const)

### 2.2. Задачи

#### 2.2.1. Работа с переменными

Создать скрипт `main.js`, в котором:
1. объявить переменные `first_user` и `second_user`,
2. записать строку `'Василий'` в `first_user`,
3. записать строку `'Иван'` в `second_user`,
4. с помощью функции `alert` вывести значение переменной `first_user` (должно вывести `Василий`),
5. скопировать значение из `second_user` в `first_user`,
6. с помощью функции `alert` вывести значение переменной `first_user` (должно вывести `Иван`),
7. запустить скрипт и убедиться, что всё работает.

<details>
<summary>Посмотреть решение</summary>
<hr>

Содержимое `main.js`:

```js
var first_user = 'Василий', second_user = 'Иван';
alert(first_user); // Василий

first_user = second_user;
alert(first_user); // Иван
```

<hr>
</details>

## 3. Взаимодействие с пользователем

Помимо уже знакомой нам встроенной функции `alert()`, существуют также функции `prompt()` и `confirm()`, обеспечивающие базовое взаимодействие с пользователем.

Функция `alert(message)` выводит на экран модальное окно с сообщением `message` и приостанавливает выполнение скрипта, пока пользователь не нажмёт `ОК`.

```js
alert( "Привет" );
```

Функция `prompt(title, default)` выводит на экран модальное окно с заголовком `message`, полем для ввода текста, заполненным строкой по умолчанию `default` и кнопками `OK` и `CANCEL`. Функция возвращает то, что ввёл посетитель – строку или специальное значение `null`, если ввод отменён.

```js
var years = prompt('Сколько вам лет?', 100);
alert('Вам ' + years + ' лет!');
```

Функция `confirm(question)` выводит окно с вопросом `question` и кнопками `OK` и `CANCEL`. Результатом будет `true` при нажатии `OK` и `false` – при `CANCEL`.

```js
var isAdmin = confirm("Вы - администратор?");
alert( isAdmin );
```

### 3.1. Ссылки

- [Встроенная функция `prompt()`](https://developer.mozilla.org/ru/docs/Web/API/Window/prompt)
- [Встроенная функция `confirm()`](https://developer.mozilla.org/ru/docs/Web/API/Window/confirm)

### 3.2. Задачи

#### 3.2.1. Опросник

Создать скрипт `main.js`, в котором:
1. запросить имя пользователя с помощью функции `propmt()`,
2. вывести результат с помощью функции `alert()`,
3. с помощью функции `confirm()` узнать, является ли пользователь совершеннолетним,
4. вывести результат с помощью функции `alert()`,
5. запустить скрипт и убедиться, что всё работает.

<details>
<summary>Посмотреть решение</summary>
<hr>

Содержимое `main.js`:

```js
// Получение имени пользователя.
var user_name = prompt('Ваше имя?', '');
alert(user_name);

var is_adult = confirm('Вы совершеннолетний?');
alert(is_adult);
```

<hr>
</details>

## 4. Операторы

### 4.1. Операторы присваивания

| Запись      | Смысл          | Приоритет | Описание                                   |
| ----------- | -------------- | --------- | ------------------------------------------ |
| `x = y`     | `x = y`        | `3`       | Присваивание.                              |
| `x += y`    | `x = x + y`    | `3`       | Присваивание со сложением.                 |
| `x -= y`    | `x = x - y`    | `3`       | Присваивание с вычитанием.                 |
| `x *= y`    | `x = x * y`    | `3`       | Присваивание с умножением.                 |
| `x /= y`    | `x = x / y`    | `3`       | Присваивание с делением.                   |
| `x %= y`    | `x = x % y`    | `3`       | Присваивание с делением по модулю.         |
| `x <<= y`   | `x = x << y`   | `3`       | Присваивание с левым сдвигом.              |
| `x >>= y`   | `x = x >> y`   | `3`       | Присваивание с правым сдвигом.             |
| `x >>>= y`  | `x = x >>> y`  | `3`       | Присваивание с правым беззнаковым сдвигом. |
| `x &= y`    | `x = x & y`    | `3`       | Присваивание с побитовым И.                |
| x &#124;= y | x = x &#124; y | `3`       | Присваивание с побитовым ИЛИ.              |
| `x ^= y`    | `x = x ^ y`    | `3`       | Присваивание с побитовым исключающим ИЛИ.  |

Оператор присваивания задаёт значение переменной:

```js
var x = 5
var y = x;
```

Возможно присваивание по цепочке:

```js
var x, y, z;
x = y = z = 0;
```

Можно использовать как чать более сложного выражения:

```js
var a = 1;
var b = 2;
var c = 3 - (a = b + 1); // 0
```

### 4.2. Операторы сравнения

| Запись    | Приоритет | Описание                                                                                  |
| --------- | --------- | ----------------------------------------------------------------------------------------- |
| `x == y`  | `10`      | Равно, возвращает `true`, если операнды равны.                                            |
| `x === y` | `10`      | Строго равно, возвращает `true`, если операнды равны и имеют одинаковый тип.              |
| `x != y`  | `10`      | Не равно, возвращает `true`, если операнды не равны.                                      |
| `x !== y` | `10`      | Строго не равно, возвращает `true`, если операнды не равны или имеют разный тип.          |
| `x > y`   | `11`      | Больше, возвращает `true`, если операнд слева больше операнда справа.                     |
| `x >= y`  | `11`      | Больше или равно, возвращает `true`, если операнд слева больше или равен операнду справа. |
| `x < y`   | `11`      | Меньше, возвращает `true`, если операнд слева меньше операнда справа.                     |
| `x <= y`  | `11`      | Меньше или равно, возвращает `true`, если операнд слева меньше или равен операнду справа. |

Строки сравниваются посимвольно:

> ```js
> -> 'А' > 'Я'
> <- false
> -> 'а' > 'я'
> <- false
> -> 'а' > 'Я'
> <- true
> -> 'Вася' > 'Ваня'
> <- true
> ```

Сравнение значений разных типов имеет свои особенности:
1. строка будет преобразована к числу при сравнении её с числом:

> ```js
> -> '2' > 1
> <- true
> -> 'string' > 1
> <- false
> ```

2. логический тип будет преобразован к числу при сравнении его с числом:

> ```js
> -> true == 1
> <- true
> -> false == 0
> <- true
> ```

### 4.3. Арифметические операторы

| Запись  | Приоритет | Описание                                                                                |
| ------- | --------- | --------------------------------------------------------------------------------------- |
| `x + y` | `13`      | Сложение, возвращает сумму числовых операндов или объединяет строки.                    |
| `x - y` | `13`      | Вычитание, вычитает один операнд из другого и возвращает разницу.                       |
| `x * y` | `14`      | Умножение, возвращает произведение операндов.                                           |
| `x / y` | `14`      | Деление, возвращает результат от деления левого операнда на правый.                     |
| `x % y` | `14`      | Остаток отделения, возвращает целый остаток от деления левого операнда на правый.       |
| `+x`    | `16`      | Унарный плюс, преобразовывает операнд в число, если он им не является.                  |
| `-x`    | `16`      | Унарный минус, возвращает отрицательное значение своего операнда.                       |
| `++x`   | `16`      | Префиксный инкремент, возвращает значение операнда, увеличенное на единицу.             |
| `--x`   | `16`      | Префиксный декремент, возвращает значение операнда, уменьшенное на единицу.             |
| `x++`   | `17`      | Префиксный инкремент, возвращает значение операнда, а затем увеличивает его на единицу. |
| `x--`   | `17`      | Префиксный декремент, возвращает значение операнда, а затем уменьшает его на единицу.   |

Оператор сложения используется для объединения строк:

> ```js
> -> 'Привет, ' + 'мир!'
> <- "Привет, мир!"
> -> '2' + '1'
> <- "21"
> ```

Если один из операндов - строка, то другой операнд тоже будет преобразован в строку:

> ```js
> -> 2 + '1'
> <- "21"
> -> '2' + 1
> <- "21"
> ```

Большинство операторов преобразуют свои операнды в число:

> ```js
> -> '3' - 2
> <- 1
> -> '3' * 2
> <- 6
> -> '3' / 2
> <- 1.5
> -> '3' % 2
> <- 1
> -> +'3'
> <- 3
> ```

### 4.4. Битовые операции

| Запись     | Приоритет | Описание                                                                                                                                        |
| ---------- | --------- | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| x &#124; y | `7`       | Побитовое ИЛИ, возвращает 1 в тех разрядах, которые хотя бы у одного из операндов были равны 1.                                                 |
| `x ^ y`    | `8`       | Побитовое исключающее ИЛИ возвращает 1 в тех разрядах, которые только у одного из операндов были равны 1.                                       |
| `x & y`    | `9`       | Побитовое И, возвращает 1 в тех разрядах, которые у обоих операндов были равны 1.                                                               |
| `x << y`   | `12`      | Сдвиг влево, сдвигает двоичное представление числа a на b разрядов влево заполняя освободившиеся справа разряды нулями.                         |
| `x >> y`   | `12`      | Арифметический сдвиг вправо, сдвигает двоичное представление числа a на b разрядов вправо. Освобождающиеся разряды заполняются  знаковым битом. |
| `x >>> y`  | `12`      | Арифметический сдвиг вправо, сдвигает двоичное представление числа a на b разрядов вправо. Освобождающиеся разряды заполняются нулями.          |
| `~x`       | `16`      | Побитовое отрицание, инвертирует биты операнда.                                                                                                 |

Битовые операции обращаются со своими операндами как с 32-х разрядными двоичными числами. Положительные числа представлены в прямом коде, а отрицательные - в дополнительном.

Для перевода строки в целое число можно воспользоваться встроенной функцией `parseInt(string, radix)`, которое преобразует строковое представление числа `string` в целое число в соответствии с `radix` - основанием системы счисления:

> ```js
> -> parseInt("11000", 2);
> <- 24
> -> parseInt("11000", 8);
> <- 4608
> -> parseInt("11000");
> <- 11000
> ```

Для перевода строки в число с плавающей точкой можно воспользоваться встроенной функцией `parseFloat(string)`, которое преобразует строковое представление числа `string` в число с плавающей точкой:

> ```js
> -> parseFloat("3.14");
> <- 3.14
> -> parseFloat("314E-2");
> <- 3.14
> ```

Для перевода числа в строку можно воспользовать встроенной функцией числового типа `toString(radix)`, которое преобразует число в строку в соответствии с `radix` - основанием системы счисления:

> ```js
> -> 134..toString(2)
> <- "10000110"
> -> 3.14.toString(2)
> <- "11.001000111101011100001010001111010111000010100011111"
> ```

Операторы `~` и `^` можно использовать для округления:

> ```js
> -> ~~3.14
> <- 3
> -> 3.14 ^ 0
> <- 3
> ```


### 4.5. Логические операторы

| Запись           | Приоритет | Описание                                                                                                                       |
| ---------------- | --------- | ------------------------------------------------------------------------------------------------------------------------------ |
| x &#124;&#124; y | `5`       | Логическое ИЛИ, возвращает `true`, если один из операндов `true`; если же оба `false`, то возвращает `false`.                  |
| `x && y`         | `6`       | Логическое И, возвращает `true`, если оба операнда `true`; в противном случае возвращает `false`.                              |
| `!x`             | `16`      | Логическое отрицание, возвращает `false`, если операнд может быть преобразован в `true`; в противном случае возвращает `true`. |

Оператор `||` возвращает первое истинное значение из списка, не преобразуя его к логическому типу:

> ```js
> -> var zero = 0, empty = '', msg = 'сообщение';
>    var result = zero || empty || msg;
> <- undefined
> -> result
> <- "сообщение"
> ```

Оператор `!` можно использовать для преобразования к логическому типу:

> ```js
> -> !!'строка'
> <- true
> -> !!''
> <- false
> -> !!3.14
> <- true
> -> !!0
> <- false
> ```

### 4.6. Ссылки

- [Выражения и операторы](https://developer.mozilla.org/ru/docs/Web/JavaScript/Guide/Expressions_and_Operators)
- [Приоритет операторов](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/Operator_Precedence)
- [Операторы присваивания](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/Assignment_Operators)
- [Операторы сравнения](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/Операторы_сравнения)
- [Арифметические операции](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators)
- [Битовые операции](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators)
- [Логические операторы](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/Логические_операторы)
- [Оператор запятая](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/Оператор_Запятая)
- [Встроенная функция `parseInt()`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/parseInt)
- [Встроенная функция `parseFloat()`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/parseFloat)
- [Встроенная функция `toString()`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Number/toString)

### 4.7. Задачи

#### 4.7.1. Префиксный и постфиксный инкремент

Задание:

1. создать скрипт со следующим содержимым:

```js
var a = 1, b = 1, c, d, e, f;

c = ++a;
d = b++;
e = (2+ ++a);
f = (2+ b++);
```

2. не запуская скрипт, попытаться самостоятельно вычислить значения переменных `c`, `d`, `e` и `f`,
3. запустить скрипт и посмотреть, какие значения переменные `c`, `d`, `e` и `f` принимают на самом деле.

<details>
<summary>Посмотреть решение</summary>
<hr>

Результат выполнения скрипта в консоли инструментов разработчика:

> ```js
> -> var a = 1, b = 1, c, d, e, f;
>
>    c = ++a;
>    d = b++;
>    e = (2+ ++a);
>    f = (2+ b++);
> <- 4
> -> [с, d, e, f]
> <- [2, 1, 5, 4]
> ```

<hr>
</details>

#### 4.7.2. Присваивание в сложном выражении

Задание:

1. создать скрипт со следующим содержимым:

```js
var x = 5;
var y = 1 + (x %= ++x);
```

2. не запуская скрипт, попытаться самостоятельно вычислить значение переменной `y`,
3. запустить скрипт и посмотреть, какое значение переменная `y` принимает на самом деле.

<details>
<summary>Посмотреть решение</summary>
<hr>

Результат выполнения скрипта в консоли инструментов разработчика:

> ```js
> -> var x = 5;
>    var y = 1 + (x %= ++x);
> <- undefined
> -> y
> <- 6
> ```

<hr>
</details>

#### 4.7.3. Результаты битовых операций

Задание:

1. создать скрипт со следующим содержимым:

```js
var a, b, c, d, e;

a = 314 ^ 0;
b = 0 ^ 314;
c = 0 ^ 3.14;
d = ~~314;
e = ~~3.14;
```

2. не запуская скрипт, попытаться самостоятельно вычислить значения переменных `a`, `b`, `c`, `d` и `e`,
3. запустить скрипт и посмотреть, какие значения переменные `a`, `b`, `c`, `d` и `e` принимают на самом деле.

<details>
<summary>Посмотреть решение</summary>
<hr>

Результат выполнения скрипта в консоли инструментов разработчика:

> ```js
> -> var a, b, c, d, e;
>
>    a = 314 ^ 0;
>    b = 0 ^ 314;
>    c = 0 ^ 3.14;
>    d = ~~314;
>    e = ~~3.14;
> <- undefined
> -> [a, b, c, d, e]
> <- [314, 314, 3, 314, 3]
> ```

<hr>
</details>

#### 4.7.4. Результаты логических операторов

Задание:

1. создать скрипт со следующим содержимым:

```js
var a, b, c;

a = 1 && 0 && 2;
b = 1 || 0 || 2;
c = 0 || 2 && 3 || 4;
```

2. не запуская скрипт, попытаться самостоятельно вычислить значения переменных `a`, `b` и `c`
3. запустить скрипт и посмотреть, какие значения переменные `a`, `b` и `c` принимают на самом деле.

<details>
<summary>Посмотреть решение</summary>
<hr>

Результат выполнения скрипта в консоли инструментов разработчика:

> ```js
> -> var a, b, c;
>
>    a = 1 && 0 && 2;
>    b = 1 || 0 || 2;
>    c = 0 || 2 && 3 || 4;
> <- undefined
> -> [a, b, c]
> <- [0, 1, 3]
> ```

<hr>
</details>

#### 4.7.5. Проверка диапазона

Задание:

1. создать скрипт со следующим содержимым:

```js
var age = 18;
```

2. с использованием логических операторов создать два выражения, которые будут проверять:
    - значение переменной `age` находится в диапазоне от 14 до 70 включительно,
    - значение переменной `age` **не** находится в диапазоне от 14 до 70 включительно,

3. запустить скрипт и посмотреть значения выражений.

<details>
<summary>Посмотреть решение</summary>
<hr>

Результат выполнения скрипта в консоли инструментов разработчика:

> ```js
> -> var age = 18;
> <- undefined
> -> age >= 14 && age <= 70 /* первое выражение */
> <- true
> -> !(age >= 14 && age <= 70) /* второе выражение (первый вариант) */
> <- false
> -> age < 14 || age > 70 /* второе выражение (второй вариант) */
> <- false
> ```

<hr>
</details>

## 5. Типы данных

В языке JavaScript определены следующие типы данных:

| Тип данных                       | Описание                                                                                                                                                                                               |
| -------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `Boolean` (логический тип)       | Булевый тип представляет результат логического выражения и принимает одно из двух значений: `true` (истина) или `false` (ложь).                                                                        |
| `Null` (неизвестный тип)         | Имеет смысл "ничего" или "значение неизвестно" и принимает единственное значение: `null`.                                                                                                              |
| `Undefined` (неопределённый тип) | Имеет смысл "значение не присвоено" и принимает единственное значение: `undefined`. Такое значение принимает неинициализированная переменная.                                                          |
| `Number` (числовой тип)          | Представляет собой 64-битное число двойной точности. Имеет несколько символических значений: `+Infinity` (положительная бесконечность), `-Infinity` (отрицательная бесконечность), и `NaN` (не число). |
| `String` (строковый тип)         | Представляет собой строку в кодировке `Unicode`.                                                                                                                                                       |
| `Object` (объект)                | Может расцениваться как набор свойств.                                                                                                                                                                 |

С типами данных тесно связан оператор `typeof`. Он возвращает тип аргумента в виде строки:

```js
var num = 5;
typeof num; // "number"
```

### 5.1. Ссылки

- [Типы данных JavaScript и структуры данных](https://developer.mozilla.org/ru/docs/Web/JavaScript/Data_structures)
- [Оператор `typeof`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/typeof)

### 5.2. Задачи

#### 5.2.1. Преобразование типов в операциях

Задание:

1. создать скрипт со следующим содержимым:

```js
var ans;
ans = "" + 1 + 0;
ans = "" - 1 + 0;
ans = true + false;
ans = 6 / "3";
ans = "2" * "3";
ans = 4 + 5 + "px";
ans = "$" + 4 + 5;
ans = "4" - 2;
ans = "4px" - 2;
ans = 7 / 0;
ans = "  -9\n" + 5;
ans = "  -9\n" - 5;
ans = 5 && 2;
ans = 2 && 5;
ans = 5 || 0;
ans = 0 || 5;
ans = null + 1;
ans = undefined + 1;
ans = null == "\n0\n";
ans = +null == +"\n0\n";
```

2. не запуская скрипт, попытаться самостоятельно вычислить значения переменной `a` в каждой строке,
3. запустить скрипт и посмотреть, какие значения переменная `a` принимает на самом деле.

<details>
<summary>Посмотреть решение</summary>
<hr>

Результат выполнения скрипта:

```js
var ans;
ans = "" + 1 + 0;        // "10"
ans = "" - 1 + 0;        // -1
ans = true + false;      // 1
ans = 6 / "3";           // 2
ans = "2" * "3";         // 6
ans = 4 + 5 + "px";      // "9px"
ans = "$" + 4 + 5;       // "$45"
ans = "4" - 2;           // 2
ans = "4px" - 2;         // NaN
ans = 7 / 0;             // Infinity
ans = "  -9\n" + 5;      // " -9\n5"
ans = "  -9\n" - 5;      // -14
ans = 5 && 2;            // 2
ans = 2 && 5;            // 5
ans = 5 || 0;            // 5
ans = 0 || 5;            // 5
ans = null + 1;          // 1
ans = undefined + 1;     // NaN
ans = null == "\n0\n";   // false
ans = +null == +"\n0\n"; // true
```

<hr>
</details>

## 6. Условные инструкции

Инструкция `if` позволяет выполнить выражение в зависимости от выполнения условия:

```js
// Условие
if (condition) {
  // Выражение 1
  statement1();
}
else {
  // Выражение 2
  statement2();
}
```

Если условие `condition` является истинным (`true`), то выполняется выражение `statement1()`, иначе выполняется выражение `statement2()`. Если `условие` - сложное выражение, то оно преобразуется к логическому типу:

- к `false` преобразуются: `0` (ноль), `''` (пустая строка), `null`, `undefined` и `NaN`,
- к `true` преобразуются все остальные значения.

Вышеприведённый пример можно переписать с использованием условного оператора `?`:

```js
// Условие ? Выражение 1 : Выражение 2
let result = condition ? statement1() : statement2();
```

Инструкции `if` можно объединять в цепочку:

```js
if (condition1) {
  statement1();
}
else if (condition2) {
  statement2();
}
else if (condition3) {
  statement3();
}
else {
  statement4();
}
```

Тот же пример с использованием условного оператора `?`:

```js
let result =
  condition1 ? statement1() :
  condition2 ? statement2() :
  condition3 ? statement3() :
    statement4();
```

В некоторых случаях такие цепочки инструкций `if` можно заменить с помощью одной инструкции `switch`:

```js
switch (expression) {
  case value1:
    statement1();
    break;

  case value2:
    statement2();
    break;

  // ...

  case valueN:
    statementN();
    break;

  default:
    statementN1();
    break;
}
```

Если выражение `expression` соответствует какому-то из случаев `value1`, `value2`, ..., `valueN` (используется строгое стравнение `===`), то выполняются инструкции, соответствующие этому случаю. Ключевое слово `break` позволяет выйти из инструкции `switch`.


### 6.1. Ссылки

- [Условный оператор `?`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/Условный_оператор)
- [Инструкция `if`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/if...else)
- [Инструкция `switch`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/switch)

### 6.2. Задачи

#### 6.2.1. Получить знак числа

Используя оператор `if`, создать скрипт `main.js`, который получает значение с помощью встроенной функции `prompt()`, а затем вызывает встроенную функцию `alert()` со строкой:
- `Значение больше нуля`, если значение больше нуля,
- `Значение меньше нуля`, если значение меньше нуля,
- `Значение равно нулю`, если значение равно нулю.

<details>
<summary>Посмотреть решение</summary>
<hr>

Содержимое `main.js`:

```js
var value = prompt('Введите число', 0);

if (value > 0) {
  alert('Значение больше нуля');
}
else if (value < 0) {
  alert('Значение меньше нуля');
}
else {
  alert('Значение равно нулю');
}
```

<hr>
</details>

#### 6.2.2 Проверка логина и пароля

Используя оператор `if` и встроенные функции `prompt()` и `alert()`, создать скрипт `main.js`, который будет проверять логин и пароль пользователя.

В начале скрипта вывести диалог с заголовком `Введите логин`.

Алгоритм проверки логина:
- если пользователь вводит `Администратор`, то запрашивать пароль,
- если пользователь вводит другое значение, то выводить сообщение `Пользователь с таким именем не существует`,
- если пользователь отменил ввод логина, то выводить значение `Вход отменён`.

Для проверки пароля вывести диалог с заголовком `Введите пароль`.

Алгоритм проверки пароля:
- если посетитель вводит `пароль`, то выводить сообщение `Вход выполнен`,
- если пользователь вводит другое значение, то выводить сообщение `Неверный пароль`,
- если пользователь отменил ввод пароля, то выводить значение `Вход отменён`.

<details>
<summary>Посмотреть решение</summary>
<hr>

Содержимое `main.js`:

```js
var userName = prompt(`Введите логин`, '');

if (userName == `Администратор`) {
  var password = prompt(`Введите пароль`, '');

  if (password == `пароль`) {
    alert(`Вход выполнен`);
  }
  else if (password == null) {
    alert(`Вход отменён`);
  }
  else {
    alert(`Неверный пароль`);
  }
}
else if (userName == null) {
  alert(`Вход отменён`);
}
else {
  alert(`Пользователь с таким именем не существует`);
}
```

<hr>
</details>

#### 6.2.3. Замена условного оператора

Задание:
1. создать скрипт `first.js` со следующим содержимым:

```js
var a = 2, b = 3, result;

if (a + b < 4) {
  result = 'Верно';
}
else {
  result = 'Неверно';
}
```

2. в скрипте `first.js` заменить инструкцию `if` на условный оператор `?`,
3. создать скрипт `second.js` со следующим содержимым:

```js
var login = '', message;

if (login == 'Иван') {
  message = 'Привет';
}
else if (login == 'Директор') {
  message = 'Здравствуйте';
}
else if (login == '') {
  message = 'Логин не указан';
}
else {
  message = '';
}
```

4. в скрипте `second.js` заменить инструкцию `if` на условный оператор `?`,
5. в скрипте `second.js` заменить инструкцию `if` на инструкцию `switch`,
6. создать скрипт `third.js` со следующим содержимым:

```js
var browser = 'Chrome', message;

switch (browser) {
  case 'IE':
    message = 'Давай, до свидания!';
    break;

  case 'Chrome':
  case 'Firefox':
  case 'Safari':
  case 'Opera':
    message = 'Эти браузеры поддерживаются';
    break;

  default:
    message = 'Браузер неизвествен';
}
```

7. в скрипте `third.js` заменить инструкцию `switch` на инструкцию `if`.

<details>
<summary>Посмотреть решение</summary>
<hr>

Содержимое `first.js` после замены инструкции `if` на условный оператор `?`:

```js
var a = 2, b = 3, result;
result = (a + b < 4) ? 'Верно' : 'Неверно';
```

Содержимое `second.js` после замены инструкции `if` на условный оператор `?`:

```js
var login = '', message;

message = (login == 'Иван') ? 'Привет' :
          (login == 'Директор') ? 'Здравствуйте' :
          (login == '') ? 'Логин не указан' : '';
```

Содержимое `second.js` после замены инструкции `if` на инструкцию `switch`:

```js
var login = '', message;

switch(login) {
case 'Иван':
  message = 'Привет';
  break;

case 'Директор':
  message = 'Здравствуйте';
  break;

case '':
  message = 'Логин не указан';
  break;

default:
  message = '';
}
```

Содержимое `third.js` после замены инструкции `if` на инструкцию `switch`:

```js
var browser = 'Chrome', message;

if(browser == 'IE') {
  message = 'Давай, до свидания!';
}
else if (browser == 'Chrome' || browser == 'Firefox'
|| browser == 'Safari' || browser == 'Opera') {
  message = 'Эти браузеры поддерживаются';
}
else {
  message = 'Браузер неизвествен';
}
```

<hr>
</details>

## 7. Инструкции циклов

Инструкция `while` создаёт цикл, выполняющий указанное выражение, пока истинно проверяемое условие:

```js
// Условие
while (condition) {
  // Выражение
  statement();
}
```

Логическое значение условия вычисляется перед исполнением тела цикла.

Инструкция `do...while` создает цикл, который выполняет указанное выражнеие до тех пор, пока условие не станет ложным:

```js
do {
  // Выражение
  statement();

  // Условие
} while (condition);
```

Значение условия вычисляется после выражения, то есть выражение выполнится как минимум один раз.

Используя инструкцию `while`, можно создать бесконечный цикл:

```js
while (true) {
  statement();
}
```

Инструкция `for` создаёт цикл, состоящий из 3 необязательных выражений в круглых скобках, разделённых точками с запятой:

```js
// Инициализация; условие; финальное выражение
for (initialization; condition; final-expression) {
  // Выражение
  statement();
}
```

Ключевые слова `break` и `continue` позволяют выйти из цикла и прекратить текущую итерацию цикла соответственно.

### 7.1. Ссылки

- [Инструкция `while`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/while)
- [Инструкция `do...while`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/do...while)
- [Инструкция `for`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/for)
- [Инструкция `break`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/break)
- [Инструкция `continue`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/continue)

### 7.2. Задачи

#### 7.2.1. Последнее значение цикла

Задание:
1. создать скрипт `first.js` со следующим содержимым:

```js
var i = 3;
while (i) alert(i--);
```

2. создать скрипт `second.js` со следующим содержимым:

```js
var i = 0;
while (++i < 5) alert( i );
```

3. создать скрипт `third.js` со следующим содержимым:

```js
var i = 0;
while (++i < 5) alert( i );
```

4. создать скрипт `fourth.js` со следующим содержимым:

```js
var i = 0;
for (var i = 0; i < 5; i++) alert( i );
```

5. создать скрипт `fifth.js` со следующим содержимым:

```js
var i = 0;
for (var i = 0; i < 5; ++i) alert( i );
```

6. самостоятельно определить, какое последнее значение выведет функция `alert()` во всех случаях,
7. запустить скрипты и проверить результат.

<details>
<summary>Посмотреть решение</summary>
<hr>

Ответы:
- `first.js`: `1`,
- `second.js`: `4`,
- `third.js`: `5`,
- `fourth.js`: `4`,
- `fifth.js`: `4`,

<hr>
</details>

#### 7.2.2. Вывод чётных чисел

Задание:
1. создать скрипт `main.js`, в котором при помощи цикла `for` вывести чётные числа от `2` до `10`,
2. запустить скрипт и проверить результат.

<details>
<summary>Посмотреть решение</summary>
<hr>

```js
for (let i = 2; i <= 10; i++) {
  if (i % 2 == 0) {
    alert( i );
  }
}
```

<hr>
</details>

#### 7.2.3. Замена оператора цикла

Переписать код, заменив цикл `for` на `while`, без изменения поведения цикла:

```js
for (var i = 0; i < 3; i++) {
  alert( "номер " + i + "!" );
}
```

<details>
<summary>Посмотреть решение</summary>
<hr>

```js
var i = 0;
while (i < 3) {
  alert( "номер " + i + "!" );
  i++;
}
```

<hr>
</details>

#### 7.2.4. Правильный ввод

Написать цикл, который с помощью `prompt()` получает число. Если посетитель ввёл другое меньше `100` – попросить ввести ещё раз, и так далее.

Цикл должен спрашивать число пока либо посетитель не введёт число, большее 100, либо не нажмёт кнопку Cancel (ESC).

Предполагается, что посетитель вводит только числа. Предусматривать обработку нечисловых строк в этой задаче необязательно.

<details>
<summary>Посмотреть решение</summary>
<hr>

```js
var num;

do {
  num = prompt("Введите число больше 100?", 0);
} while (num <= 100 && num != null);
}
```

<hr>
</details>

## 8. Объявления функций

Для объявления функций используется ключевое слово `function`:

```js
function name() {
  statement();
}
```

Данное объявление создаст функцию `name()`, которая будет выполнять выражение `statenent()` при каждом её вызове:

```js
name(); // Выполнит statement()
name(); // Выполнит statement()
```

У функции в скобках `()` через запятую можно указать аргументы. В теле функции можно указать возвращаемое значение с помощью ключевого слова `return`:

```js
function name(param1, param2) {
  return statement();
}
```

Данное объявление создаст функцию `name()` с параметрами `param1` и `param2`, которая будет выполнять выражение `statenent()` и возвращать результат его выполнения при каждом её вызове:

```js
var result;

result = name(123, 456);
result = name('abc', 'def');
result = name(true, false);
```

Для аргументов функции можно указать значение по умолчанию:

```js
function name(param1 = value1, param2 = value2) {
  return statement();
}
```

Теперь при вызове функции, если аргумент не указан, он будет принимать значение по умолчанию:

```js
var result;

result = name();             // param1 = value1, param2 = value2
result = name('abc');        // param1 = 'abc', param2 = value2
result = name('abc', 'def'); // param1 = 'abc', param2 = 'def'
```

*Рекурсия* - это когда функция вызывает сама себя.

### 8.1. Ссылки

- [Объявление `function`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/function)

### 8.2. Задачи

#### 8.2.1. Функция минимизации

Написать функцию `min(a, b)`, которая возвращает меньшее из чисел `a` и `b`.

Пример вызовов:

> ```js
> -> min(2, 5)
> <- 2
> -> min(3, -1)
> <- -1
> -> min(2, 2)
> <- 2
> ```

<details>
<summary>Посмотреть решение</summary>
<hr>

Функция `min(a, b)`:

```js
function min(a, b) {
  return a < b ? a : b;
}
```

<hr>
</details>

#### 8.2.2. Вычисление суммы чисел до данного

Написать функцию `sumTo(n)`, которая для данного `n` вычисляет сумму чисел от `1` до `n`. делать два варианта решения:
- с использованием цикла,
- через рекурсию.

Пример вызовов:

> ```js
> -> sumTo(1) // 1
> <- 1
> -> sumTo(2) // 1 + 2
> <- 3
> -> sumTo(3) // 1 + 2 + 3
> <- 6
> ```

<details>
<summary>Посмотреть решение</summary>
<hr>

Функция `sumTo(n)`, реализованная с помощью цикла:

```js
function sumTo(n) {
  let sum = 0;

  for (let i = 1; i <= n; i++) {
    sum += i;
  }

  return sum;
}
```

Функция `sumTo(n)`, реализованная через рекурсию:

```js
function sumTo(n) {
  if (n == 1) {
    return 1;
  }

  return n + sumTo(n - 1);
}
```

<hr>
</details>

#### 8.2.3. Функция возведения в степень

Написать функцию `pow(x, n)`, которая возвращает `x` в степени `n`. Сделать два варианта решения:
- с использованием цикла,
- через рекурсию.

Пример вызовов функции `pow(x, n)`:

> ```js
> -> pow(3, 2)
> <- 9
> -> pow(2, 3)
> <- 8
> -> pow(1, 4)
> <- 1
> ```

<details>
<summary>Посмотреть решение</summary>
<hr>

Функция `pow(x, n)`, реализованная с помощью цикла:

```js
function pow(x, n) {
  let result = x;

  for (let i = 1; i < n; i++) {
    result *= x;
  }

  return result;
}
```

Функция `pow(x, n)`, реализованная через рекурсию:

```js
function pow(x, n) {
  if (n != 1) {
    return x * pow(x, n - 1);
  }
  else {
    return x;
  }
}
```

<hr>
</details>